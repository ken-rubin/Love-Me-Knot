/*! For license information please see index.js.LICENSE.txt */
(()=>{"use strict";var e={d:(t,a)=>{for(var l in a)e.o(a,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:a[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{initMap:()=>l});var a=[512,512,[],"f70b","M256 64C109.1 64 0 125.9 0 208v98.13C0 384.5 114.6 448 256 448s256-63.5 256-141.9V208C512 125.9 401.1 64 256 64zM256 288C203.1 288 155.1 279.1 120.4 264.6C155 249.9 201.6 240 256 240s101 9.875 135.6 24.62C356.9 279.1 308.9 288 256 288zM437.1 234.4C392.1 208.3 328.3 192 256 192S119.9 208.3 74.88 234.4C68 226.1 64 217.3 64 208C64 163.9 149.1 128 256 128c105.1 0 192 35.88 192 80C448 217.3 444 226.1 437.1 234.4z"];function l(){let e=[],t=[{lat:41.239560541203865,lng:-73.39134439917926},{lat:41.239384788295496,lng:-73.3912635849484},{lat:41.23916696066689,lng:-73.39119384751402},{lat:41.238977369362196,lng:-73.39124749169432},{lat:41.23881198075364,lng:-73.3912635849484},{lat:41.238735337110214,lng:-73.39125285611235,marker:!0,label:"25",message:"turn left, head north along the pond to the clearing"},{lat:41.23880391300593,lng:-73.39166055188261,marker:!0,label:"24",message:"turn right"},{lat:41.238525575100134,lng:-73.3920736120709},{lat:41.23853767677287,lng:-73.39239547715269,marker:!0,label:"23",message:"turn left off the main path"},{lat:41.238578015665766,lng:-73.39262078270994},{lat:41.23855381233301,lng:-73.39292655453764},{lat:41.238473134492445,lng:-73.3932269619473},{lat:41.23833194803182,lng:-73.39335570798002},{lat:41.23799058050354,lng:-73.39337716565214},{lat:41.23778081610329,lng:-73.39351664052091},{lat:41.237619458414265,lng:-73.39376340375028},{lat:41.237409692822986,lng:-73.39408526883207},{lat:41.23725640215749,lng:-73.39443932042204},{lat:41.23711924704677,lng:-73.39478264317594},{lat:41.2371,lng:-73.39525471196256},{lat:41.23715,lng:-73.39581727981567,marker:!0,label:"Entrance",message:"enter path from parking lot to the east, continue until marker 23"}];const l=new google.maps.InfoWindow,n=(e,t)=>{google.maps.event.addListener(e,"click",(()=>{l.setContent(t),l.open(r,e)}))},o={max:{lat:Number.MIN_SAFE_INTEGER,lng:Number.MIN_SAFE_INTEGER},min:{lat:Number.MAX_SAFE_INTEGER,lng:Number.MAX_SAFE_INTEGER}},g=t.reduce(((e,t)=>({max:{lat:Math.max(e.max.lat,t.lat),lng:Math.max(e.max.lng,t.lng)},min:{lat:Math.min(e.min.lat,t.lat),lng:Math.min(e.min.lng,t.lng)}})),o),i={lat:(g.max.lat+g.min.lat)/2,lng:(g.max.lng+g.min.lng)/2},r=new google.maps.Map(document.getElementById("map"),{zoom:1,center:i}),s=new google.maps.Marker({position:{lat:41.239560541203865,lng:-73.39134439917926},icon:{path:a[4],fillColor:"#ffff88",fillOpacity:1,anchor:new google.maps.Point(a[0]/2,a[1]),strokeWeight:1,strokeColor:"#000000",scale:.075},map:r,animation:google.maps.Animation.DROP,zIndex:2});n(s,"Ring Marks the spot!");let m=new google.maps.Polyline({path:t,geodesic:!0,strokeColor:"#EEFF99",strokeOpacity:1,strokeWeight:3,icons:[{icon:{path:google.maps.SymbolPath.BACKWARD_CLOSED_ARROW},offset:"100%"}]});m.setMap(r),setInterval((()=>{let e=100-(new Date).getTime()%2e4/2e4*100;const t=m.get("icons");t[0].offset=`${e}%`,m.set("icons",t)}),50);const p=()=>{e.forEach((e=>{e.setMap(null)})),e=[],t.forEach((t=>{if(t.marker){const a=new google.maps.Marker({position:t,map:r,label:t.label,animation:google.maps.Animation.DROP});t.message&&n(a,t.message),e.push(a)}}));const a=new google.maps.Marker({position:{lat:41.24126582513925,lng:-73.38364621526185},map:r,label:"home",animation:google.maps.Animation.DROP});n(a,"our home in Weston"),e.push(a)};p();let c=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t)}).edit;const d=document.getElementById("points");c&&d?(d.value=JSON.stringify(t,null,2),d.addEventListener("input",(e=>{try{t=JSON.parse(d.value),m.setPath(t),p()}catch{}})),r.addListener("click",(e=>{t.push(JSON.parse(JSON.stringify(e.latLng))),m.setPath(t),p(),d.value=JSON.stringify(t,null,2)}))):d&&d.classList.add("hidden");const h=()=>{let t=r.getZoom();for(let a=0;a<e.length;a++)e[a].setVisible(t>15)};setTimeout(h,1e3),google.maps.event.addListener(r,"zoom_changed",h)}var n=window;for(var o in t)n[o]=t[o];t.__esModule&&Object.defineProperty(n,"__esModule",{value:!0})})();