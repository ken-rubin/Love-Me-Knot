(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(){const e=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t)});let t=e.edit;const n=document.getElementById("cover"),o=document.getElementById("InviteeDiv"),a=document.getElementById("map"),l=document.getElementById("confirm"),s=document.getElementById("MapButton"),i=document.getElementById("ConfirmButton"),g=document.getElementById("AtendeesTextArea");g&&(g.value=`${e.she}\n${e.he}`),o&&(o.innerText=`${e.she} and ${e.he}`),i?.addEventListener("click",(()=>{const e=l?.classList.contains("hidden");console.log(e),e?(a?.classList.add("hidden"),l?.classList.remove("hidden"),n?.classList.add("totallytransparent")):(l?.classList.add("hidden"),n?.classList.remove("totallytransparent"))})),s?.addEventListener("click",(()=>{const e=a?.classList.contains("hidden");console.log(e),e?(l?.classList.add("hidden"),a?.classList.remove("hidden"),navigator.geolocation&&navigator.geolocation.getCurrentPosition((e=>{const t={lat:e.coords.latitude,lng:e.coords.longitude};var n=new google.maps.LatLngBounds;n.extend({lat:41.237507629670944,lng:-73.3964314082411}),n.extend(t),f.fitBounds(n),M.geocode({location:{lat:41.23715,lng:-73.39581727981567}}).then((e=>{const{results:n}=e;var o={origin:t,destination:n[0].geometry.location,travelMode:google.maps.TravelMode.DRIVING};E.route(o,((e,t)=>{"OK"==t&&w.setDirections(e)}))})).catch((e=>{alert("Geocode was not successful for the following reason: "+e)}))}),(()=>{}))):a?.classList.add("hidden")}));let r=[],d=[{lat:41.239560541203865,lng:-73.39134439917926},{lat:41.239384788295496,lng:-73.3912635849484},{lat:41.23916696066689,lng:-73.39119384751402},{lat:41.238977369362196,lng:-73.39124749169432},{lat:41.23881198075364,lng:-73.3912635849484},{lat:41.238735337110214,lng:-73.39125285611235,marker:!0,label:"25",message:"turn left, head north along the pond to the clearing"},{lat:41.23880391300593,lng:-73.39166055188261,marker:!0,label:"24",message:"turn right"},{lat:41.238525575100134,lng:-73.3920736120709},{lat:41.23853767677287,lng:-73.39239547715269,marker:!0,label:"23",message:"turn left off the main path"},{lat:41.238578015665766,lng:-73.39262078270994},{lat:41.23855381233301,lng:-73.39292655453764},{lat:41.238473134492445,lng:-73.3932269619473},{lat:41.23833194803182,lng:-73.39335570798002},{lat:41.23799058050354,lng:-73.39337716565214},{lat:41.23778081610329,lng:-73.39351664052091},{lat:41.237619458414265,lng:-73.39376340375028},{lat:41.237409692822986,lng:-73.39408526883207},{lat:41.23725640215749,lng:-73.39443932042204},{lat:41.23711924704677,lng:-73.39478264317594},{lat:41.2371,lng:-73.39525471196256},{lat:41.23715,lng:-73.39581727981567,marker:!0,label:"Entrance",message:"enter path from parking lot to the east, continue until marker 23"}];const m=new google.maps.InfoWindow,c=(e,t)=>{google.maps.event.addListener(e,"click",(()=>{m.setContent(t),m.open(f,e)}))},p={max:{lat:Number.MIN_SAFE_INTEGER,lng:Number.MIN_SAFE_INTEGER},min:{lat:Number.MAX_SAFE_INTEGER,lng:Number.MAX_SAFE_INTEGER}},h=d.reduce(((e,t)=>({max:{lat:Math.max(e.max.lat,t.lat),lng:Math.max(e.max.lng,t.lng)},min:{lat:Math.min(e.min.lat,t.lat),lng:Math.min(e.min.lng,t.lng)}})),p),u={lat:(h.max.lat+h.min.lat)/2,lng:(h.max.lng+h.min.lng)/2},f=new google.maps.Map(document.getElementById("map"),{zoom:14,mapTypeId:google.maps.MapTypeId.HYBRID,center:u}),v=new google.maps.Marker({position:{lat:41.239560541203865,lng:-73.39134439917926},icon:"./55.png",map:f,animation:google.maps.Animation.DROP,zIndex:2});c(v,"Rings mark the spot!");let y=new google.maps.Polyline({path:d,geodesic:!0,strokeColor:"#EEFF99",strokeOpacity:1,strokeWeight:3,icons:[{icon:{path:google.maps.SymbolPath.BACKWARD_CLOSED_ARROW},offset:"100%"}]});y.setMap(f),setInterval((()=>{let e=100-(new Date).getTime()%2e4/2e4*100;const t=y.get("icons");t[0].offset=`${e}%`,y.set("icons",t)}),50);let E=new google.maps.DirectionsService,w=new google.maps.DirectionsRenderer;w.setMap(f);let M=new google.maps.Geocoder;const I=()=>{r.forEach((e=>{e.setMap(null)})),r=[],d.forEach((e=>{if(e.marker){const t=new google.maps.Marker({position:e,map:f,label:{text:e.label||"",color:"yellow",fontSize:"4vh"},animation:google.maps.Animation.DROP});e.message&&c(t,e.message),r.push(t)}}));const e=new google.maps.Marker({position:{lat:41.24126582513925,lng:-73.38364621526185},map:f,label:{text:"home",color:"yellow",fontSize:"4vh"},animation:google.maps.Animation.DROP});c(e,"our home in Weston"),r.push(e);const t=new google.maps.Marker({position:{lat:41.237507629670944,lng:-73.3964314082411},map:f,label:{text:"X",color:"yellow",fontSize:"4vh"},animation:google.maps.Animation.DROP});c(t,"oddly, this part of Pent Road does not exist!  Please disregard.  Avoid driving into the woods!"),r.push(t)};I();const b=document.getElementById("points");t&&b&&(b.classList.remove("hidden"),b.value=JSON.stringify(d,null,2),b.addEventListener("input",(e=>{try{d=JSON.parse(b.value),y.setPath(d),I()}catch{}})),f.addListener("click",(e=>{d.push(JSON.parse(JSON.stringify(e.latLng))),y.setPath(d),I(),b.value=JSON.stringify(d,null,2)})));const L=()=>{let e=f.getZoom();for(let t=0;t<r.length;t++)r[t].setVisible(e>15)};setTimeout(L,1e3),google.maps.event.addListener(f,"zoom_changed",L)}e.r(t),e.d(t,{initMap:()=>n});var o=window;for(var a in t)o[a]=t[a];t.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();